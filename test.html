<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i X·ªâu (Sic Bo) - Game Ho·∫°t ƒê·ªông</title>
    <style>
        /* --- PH·∫¶N CSS: ƒê·ªäNH D·∫†NG GIAO DI·ªÜN --- */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; text-align: center; margin-top: 50px; background-color: #e8eaf6; }
        .game-container { max-width: 650px; margin: auto; padding: 30px; background: white; border-radius: 12px; box-shadow: 0 8px 16px rgba(0,0,0,0.2); }
        h2 { color: #3f51b5; }
        #balance-display, #message { font-size: 1.2em; margin: 15px 0; font-weight: bold; }
        #balance-display { color: #009688; }
        .dice-display { font-size: 48px; margin: 25px 0; display: flex; justify-content: center; gap: 20px; }
        .die { 
            width: 70px; height: 70px; line-height: 70px; 
            background-color: #ffeb3b; border-radius: 10px; 
            border: 2px solid #fbc02d; color: #333; 
            font-weight: 900; box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
            transition: transform 0.2s; /* Th√™m animation khi gieo */
        }
        .bet-controls { margin: 20px 0; display: flex; justify-content: space-around; align-items: center; }
        .bet-buttons button { 
            padding: 12px 25px; font-size: 1.1em; margin: 5px; 
            cursor: pointer; border: none; border-radius: 8px; 
            font-weight: bold; transition: background-color 0.3s, transform 0.1s;
        }
        #bet-tai { background-color: #f44336; color: white; } /* ƒê·ªè */
        #bet-xiu { background-color: #2196F3; color: white; } /* Xanh */
        .bet-buttons button:disabled { background-color: #ccc; cursor: not-allowed; }
        .bet-buttons button:hover:not(:disabled) { transform: translateY(-2px); }
        #roll-button { 
            padding: 15px 40px; font-size: 1.3em; background-color: #4CAF50; 
            color: white; margin-top: 20px; cursor: pointer; border: none; 
            border-radius: 8px; font-weight: bold;
        }
    </style>
</head>
<body>

<div class="game-container">
    <h2>üé≤ T√†i X·ªâu Online ƒê∆°n Gi·∫£n</h2>

    <p id="balance-display">S·ªë d∆∞: 1000$</p>
    <div class="bet-controls">
        <label for="bet-amount">S·ªë ti·ªÅn c∆∞·ª£c ($):</label>
        <input type="number" id="bet-amount" value="10" min="1" max="1000" style="padding: 8px; border-radius: 5px; border: 1px solid #ccc; width: 100px; text-align: center;">
    </div>
    <hr>

    <h3>K·∫øt qu·∫£ l∆∞·ª£t gieo:</h3>
    <div class="dice-display">
        <span class="die" id="dice1">?</span>
        <span class="die" id="dice2">?</span>
        <span class="die" id="dice3">?</span>
    </div>
    <p>T·ªïng ƒëi·ªÉm: <span id="total-score">...</span></p>

    <p>B·∫°n ch·ªçn:</p>
    <div class="bet-buttons">
        <button id="bet-tai" data-choice="Tai">T√ÄI (11 - 17)</button>
        <button id="bet-xiu" data-choice="Xiu">X·ªàU (4 - 10)</button>
    </div>

    <button id="roll-button" disabled>B·∫ÆT ƒê·∫¶U CH∆†I</button>
    
    <p id="message">H√£y ch·ªçn T√†i ho·∫∑c X·ªâu ƒë·ªÉ ƒë·∫∑t c∆∞·ª£c.</p>
</div>

<script>
    // --- PH·∫¶N JAVASCRIPT: LOGIC TR√í CH∆†I ---

    let balance = 1000;
    let currentBet = 0;
    let playerChoice = '';

    const balanceDisplay = document.getElementById('balance-display');
    const betAmountInput = document.getElementById('bet-amount');
    const rollButton = document.getElementById('roll-button');
    const messageDisplay = document.getElementById('message');
    const diceElements = [
        document.getElementById('dice1'),
        document.getElementById('dice2'),
        document.getElementById('dice3')
    ];
    const totalScoreDisplay = document.getElementById('total-score');
    const betButtons = document.querySelectorAll('.bet-buttons button');

    // C·∫≠p nh·∫≠t s·ªë d∆∞ hi·ªÉn th·ªã
    function updateBalanceDisplay() {
        balanceDisplay.textContent = `S·ªë d∆∞: ${balance}$`;
    }

    // H√†m GIEU X√öC X·∫ÆC: sinh s·ªë ng·∫´u nhi√™n t·ª´ 1 ƒë·∫øn 6
    function rollDice() {
        return Math.floor(Math.random() * 6) + 1;
    }

    // --- X·ª¨ L√ù S·ª∞ KI·ªÜN ƒê·∫∂T C∆Ø·ª¢C (T√ÄI/X·ªàU) ---
    betButtons.forEach(button => {
        button.addEventListener('click', () => {
            const amount = parseInt(betAmountInput.value);

            // Ki·ªÉm tra t√≠nh h·ª£p l·ªá c·ªßa ti·ªÅn c∆∞·ª£c
            if (isNaN(amount) || amount <= 0 || amount > balance) {
                messageDisplay.textContent = (amount > balance) ? 'S·ªë d∆∞ kh√¥ng ƒë·ªß!' : 'Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn c∆∞·ª£c h·ª£p l·ªá.';
                return;
            }

            // ƒê·∫∑t c∆∞·ª£c th√†nh c√¥ng
            currentBet = amount;
            playerChoice = button.getAttribute('data-choice');
            
            messageDisplay.textContent = `B·∫°n ƒë√£ c∆∞·ª£c ${currentBet}$ v√†o c·ª≠a ${playerChoice.toUpperCase()}. Nh·∫•n TUNG X√öC X·∫ÆC!`;
            
            // V√¥ hi·ªáu h√≥a c∆∞·ª£c, k√≠ch ho·∫°t n√∫t ch∆°i
            betButtons.forEach(btn => btn.disabled = true);
            rollButton.disabled = false;
        });
    });

    // --- X·ª¨ L√ù S·ª∞ KI·ªÜN TUNG X√öC X·∫ÆC ---
    rollButton.addEventListener('click', () => {
        if (!playerChoice || currentBet === 0) return; // B·∫£o v·ªá: kh√¥ng cho ch·∫°y n·∫øu ch∆∞a c∆∞·ª£c

        // 1. Gieo 3 vi√™n x√∫c x·∫Øc
        const diceResults = [rollDice(), rollDice(), rollDice()];
        const total = diceResults.reduce((sum, value) => sum + value, 0);

        // 2. C·∫≠p nh·∫≠t giao di·ªán x√∫c x·∫Øc v√† t·ªïng ƒëi·ªÉm
        diceElements.forEach((die, index) => {
            // Th√™m hi·ªáu ·ª©ng l·∫Øc x√∫c x·∫Øc (ch·ªâ mang t√≠nh minh h·ªça)
            die.style.transform = 'rotate(360deg)'; 
            setTimeout(() => {
                die.textContent = diceResults[index];
                die.style.transform = 'rotate(0deg)'; 
            }, 300); // Ch·ªù 300ms ƒë·ªÉ th·∫•y hi·ªáu ·ª©ng
